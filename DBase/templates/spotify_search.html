{% extends "base.html" %}

{% block content %}
<div class="search-container">
    <h2>Buscar no Spotify</h2>
    
    {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form method="post" class="spotify-form">
        <div class="form-group">
            <label for="query">Buscar por:</label>
            <div class="input-group">
                <input type="text" id="query" name="query" required class="form-control" placeholder="Nome da mÃºsica ou artista">
                <div class="input-group-append">
                    <button type="submit" class="btn btn-primary">Buscar</button>
                </div>
            </div>
        </div>
    </form>

    {% if results %}
    <div class="results-container">
        <h3>Resultados da Busca</h3>
        <div class="results-grid">
            {% for track in results %}
            <div class="track-card">
                <div class="track-image">
                    {% if track.album.images %}
                    <img src="{{ track.album.images[0].url }}" alt="{{ track.name }}">
                    {% endif %}
                </div>
                <div class="track-info">
                    <h4>{{ track.name }}</h4>
                    <p>{{ track.artists[0].name }}</p>
                    <p class="text-muted">{{ track.album.name }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}